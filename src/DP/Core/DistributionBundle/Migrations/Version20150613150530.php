<?php

/**
 * This file is part of Dedipanel project
 *
 * (c) 2010-2015 Dedipanel <http://www.dedicated-panel.net>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */

namespace DP\Core\DistributionBundle\Migrations;

use Doctrine\DBAL\Migrations\AbstractMigration;
use Doctrine\DBAL\Schema\Schema;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
class Version20150613150530 extends AbstractMigration
{
    /**
     * @param Schema $schema
     */
    public function up(Schema $schema)
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != 'mysql', 'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('ALTER TABLE game ADD cfgPath VARCHAR(255) DEFAULT NULL, DROP installName, DROP orangebox');
    
        $this->insertUpData();
    }

    /**
     * @param Schema $schema
     */
    public function down(Schema $schema)
    {
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != 'mysql', 'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('ALTER TABLE game ADD installName VARCHAR(24) NOT NULL COLLATE utf8_unicode_ci, ADD orangebox TINYINT(1) NOT NULL, DROP cfgPath');
    
        $this->insertDownData();
    }

    public function insertUpData()
    {
        $sql = <<<EOF
LOCK TABLES `game` WRITE;
INSERT INTO `game` VALUES
  (11, 'Half-Life', 1, 'valve', 'hlds_run', 90, NULL, 0, '', 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/hl/', 'steam', '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg\r\n', 'server.cfg'),
  (12, 'Half-Life: Opposing Force', 1, 'gearbox', 'hlds_run', 90, 'gearbox', 0, 'op4_bootcamp', 1, NULL, '', 'steam', '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg\r\n', 'server.cfg'),
  (13, 'Ricochet', 1, 'ricochet', 'hlds_run', 90, 'ricochet', 0, 'rc_arena', 1, NULL, NULL, 'steam', '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg\r\n', 'server.cfg'),
  (14, 'Garry''s Mod', 1, 'garrysmod', 'srcds_run', 4020, NULL, 1, 'gm_construct', 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/garrysmod/', 'steam', '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\nsv_region            255\r\nsv_lan               0\r\nsv_logbans         1\r\nsv_logecho         1\r\nsv_logfile         1\r\nsv_log_onefile     0\r\nsv_noclipspeed     5\r\nsv_noclipaccelerate    5\r\n//Sandbox Settings\r\nsbox_allownpcs   1\r\nsbox_godmode       0\r\nsbox_plpldamage    0\r\nsbox_playergod     0\r\nsbox_noclip        1\r\nsbox_maxprops      150\r\nsbox_maxragdolls     5\r\nsbox_maxnpcs       10\r\nsbox_maxballoons  10\r\nsbox_maxeffects   50\r\nsbox_maxdynamite  10\r\nsbox_maxlamps     20\r\nsbox_maxthrusters 30\r\nsbox_maxwheels    20\r\nsbox_maxhoverballs    20\r\nsbox_maxvehicles  6\r\nsbox_maxbuttons    20\r\nsbox_maxsents     20\r\nsbox_maxemitters  5\r\nsbox_maxspawners   3\r\nsbox_maxturrets    2\r\n\r\n//Server Settings\r\nnet_maxfilesize   30\r\nsv_minrate        0\r\nsv_maxrate         2500\r\ndecalfrequency      10\r\nsv_maxupdaterate  66\r\nsv_minupdaterate  10\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg', 'cfg/server.cfg'),
  (15, 'Zombie Panic Source', 1, 'zps', 'srcds_run', 17505, NULL, 1, 'zpo_area41_vf2', 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/hl2zp/', 'steam', NULL, 'cfg/server.cfg'),
  (16, 'Left 4 Dead', 1, 'left4dead', 'srcds_run', 222840, NULL, 1, 'l4d_hospital01_apartment', 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/l4d/', 'steam', '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg', 'cfg/server.cfg'),
  (17, 'Left 4 Dead 2', 1, 'left4dead2', 'srcds_run', 222860, NULL, 1, 'c5m1_waterfront', 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/left4dead2/', 'steam', '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg', 'left4dead2/cfg/server.cfg'),
  (18, 'Pirates, Vikings, and Knights II', 1, 'pvkii', 'srcds_run', 17575, NULL, 1, 'bt_island', 1, NULL, NULL, 'steam', NULL, 'cfg/server.cfg'),
  (19, 'Insurgency', 1, 'insurgency', 'srcds_linux', 17705, NULL, 1, 'ministry', 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/ins/', 'steam', '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg', 'cfg/server.cfg'),
  (20, 'Killing Floor', 1, 'KFmod.KFGameType', 'ucc-bin', 215360, NULL, 1, 'KF-bioticslab', 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/kf/', 'steam', NULL, 'KillingFloor.ini'),
  (21, 'Just Cause 2', 1, 'justcause', 'Jcmp-Server', 261140, NULL, 0, NULL, 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/jc2/', 'steam', NULL, 'config.lua'),
  (22, 'Fistful of Frags', 1, 'fof', 'srcds_run', 295230, NULL, 1, 'fof_depot', 1, NULL, NULL, 'steam', '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// voice support\r\nsv_voiceenable 1\r\nsv_alltalk 1\r\n\r\n// checks assets for changes\r\nsv_pure 1\r\nsv_pure_kick_clients  1\r\n\r\n// prevents some exploits\r\nsv_allow_wait_command 0\r\n\r\n// operation\r\nsv_lan 0 \r\nsv_region 255\r\n\r\n// GAME MODES\r\nfof_sv_currentmode 1 // 1 DM\r\nmp_friendlyfire 0\r\nmp_teamplay 1\r\nmp_timelimit 15\r\n\r\nfof_sv_maxteams 4\r\n\r\n// PLAYERS\r\nmp_forcecamera 0 // 0 free roaming - 1 allow team only - 2 allow none\r\n\r\n// BOTS\r\nfof_sv_bot_slotpct 0.4\r\nfof_sv_bot_dynamicjoin 1\r\n\r\n// gun recoil\r\nfof_sv_recoilamount 0.8 // Recoil amount for handguns\r\nfof_sv_viewspring 20  // View recover speed after viewpunch\r\n\r\n// SERVER\r\nsv_Maxrate 50000\r\nsv_Minrate 50000\r\nsv_Maxupdaterate 100\r\nsv_Minupdaterate 33\r\nsv_Maxcmdrate 100\r\nsv_Mincmdrate 33\r\n\r\nsv_client_max_interp_ratio 5\r\nsv_client_min_interp_ratio 1\r\nsv_client_predict 1\r\nsv_client_interpolate 1\r\n\r\n// server logging\r\nlog on\r\nsv_logbans 1\r\nsv_logecho 1\r\nsv_logfile 1\r\nsv_log_onefile 0\r\n\r\n// execute ban files\r\nexec banned_user.cfg\r\nexec banned_ip.cfg', 'cfg/server.cfg'),
  (23, 'NS2: Combat', 1, 'ns2', 'server_linux32', 313900, NULL, 0, 'ns2_summit', 1, NULL, 'http://image.www.gametracker.com/images/maps/160x120/ns2/', 'steam', NULL, NULL)
;
UNLOCK TABLES;

LOCK TABLES `game` WRITE;
  UPDATE `game` SET cfgPath = 'server.cfg', configTemplate = '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg' WHERE name = 'Counter Strike';
  UPDATE `game` SET cfgPath = 'server.cfg', configTemplate = '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg' WHERE name = 'Counter-Strike: Condition Zéro';
  UPDATE `game` SET cfgPath = 'server.cfg', configTemplate = '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg' WHERE name = 'Day of Defeat';
  UPDATE `game` SET cfgPath = 'server.cfg', configTemplate = '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg' WHERE name = 'Team Fortress Classic';
  UPDATE `game` SET cfgPath = 'cfg/server.cfg', configTemplate = '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg' WHERE name = 'Counter-Strike: Source';
  UPDATE `game` SET cfgPath = 'cfg/server.cfg', configTemplate = '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg' WHERE name = 'Team Fortress 2';
  UPDATE `game` SET cfgPath = 'cfg/server.cfg', configTemplate = '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// Le nombre maximum de tours à jouer avant que le serveur modifications les cartes\r\nmp_maxrounds 5\r\n\r\n// Défini pour verrouiller le temps par-image qui s''écoule\r\nhost_framerate 0\r\n\r\n// Mettez l''état de pause du serveur\r\nsetpause 0\r\n\r\n// Contrôle d''où le client obtient le contenu \r\n// 0 = n''importe où, 1 = partout inscrits sur la white list, 2 = contenu Steam officielle seulement\r\nsv_pure 0\r\n\r\n// Le serveur pausable\r\nsv_pausable 0\r\n\r\n// Type de serveur 0=internet 1=lan\r\nsv_lan 0\r\n\r\n// Si le serveur applique la cohérence des fichiers pour les fichiers critiques\r\nsv_consistency 1\r\n\r\n// Collecte les statistiques d''utilisation du CPU\r\nsv_stats 1\r\n\r\n\r\n\r\n// Exécuter les utilisateur Bannis //\r\nexec banned_user.cfg\r\nexec banned_ip.cfg\r\nwriteid\r\nwriteip\r\n\r\n\r\n\r\n// Contact & Région //\r\n\r\n// Contact email pour le sysop serveur\r\nsv_contact emailaddy@google.com\r\n\r\n// La région du monde pour signaler ce serveur dedans.\r\n// -1 est le monde, 0 est la cote est des USA, 1 est la cote ouest des USA\r\n// 2 Amérique du sud, 3 Europe, 4 Asie, 5 Australie, 6 Moyen Orient, 7 Afrique\r\nsv_region 0\r\n\r\n\r\n\r\n// Paramètres Rcon //\r\n\r\n// Mot de passe pour l''authentification rcon\r\nrcon_password votremotdepasse\r\n\r\n// Nombre de minutes pour bannir les utilisateur qui échoue l''authentification rcon\r\nsv_rcon_banpenalty 1440\r\n\r\n// Le nombre maximum de fois qu''un utilisateur peut échouer l''authentification rcon avant d’être banni\r\nsv_rcon_maxfailures 5\r\n\r\n\r\n\r\n// Paramètres du journal //\r\n\r\n// Active la journalisation sur ficher, console, et udp < on | off >.\r\nlog on\r\n\r\n// Enregistrer les informations du serveur à un seul fichier.\r\nsv_log_onefile 0\r\n\r\n// Enregistrer les informations du serveur dans le fichier journal.\r\nsv_logfile 1\r\n\r\n// Journalisation des bans serveur bans dans le journal serveur.\r\nsv_logbans 1\r\n\r\n// Echo les informations du journal de la console.\r\nsv_logecho 1\r\n\r\n\r\n\r\n// Réglage de la vitesse //\r\n\r\n// Limiteur de vitesse fps\r\nfps_max 600\r\n\r\n// Bande passante minimum autorisé pour le serveur, 0 == illimitée\r\nsv_minrate 0\r\n\r\n// Bande passante maximale autorisée pour le serveur, 0 == illimitée\r\nsv_maxrate 20000\r\n\r\n// Mises à jour minimum par seconde que le serveur va permettre\r\nsv_minupdaterate 10\r\n\r\n// Mises à jour maximum par seconde que le serveur va permettre\r\nsv_maxupdaterate 66\r\n\r\n\r\n\r\n// Paramètres de téléchargement //\r\n\r\n// Permettre aux clients de télécharger des fichiers de personnalisés\r\nsv_allowupload 1\r\n\r\n// Permettre aux clients de télécharger des fichiers\r\nsv_allowdownload 1\r\n\r\n// Taille de fichier maximale autorisée pour le téléchargement en MB\r\nnet_maxfilesize 15\r\n\r\n\r\n\r\n// Équilibrage de Team //\r\n\r\n// Activer l''équilibrage de l''équipe\r\nmp_autoteambalance 1 \r\n\r\n// Temps après que les équipes soit déséquilibrer tente de changer les joueurs.\r\nmp_autoteambalance_delay 60\r\n\r\n// Temps après que les équipes soit déséquilibrer pour afficher un avertissement pour le rééquilibrage\r\nmp_autoteambalance_warning_delay 30\r\n\r\n// Teams are unbalanced when one team has this many more players than the other team. (0 disables check)\r\nmp_teams_unbalance_limit 1\r\n\r\n\r\n\r\n// Tour et temps de Jeu //\r\n\r\n// activer le timers pour attendre entre deux tours. AVERTISSEMENT: Un réglage à 0 a été connu pour causer un bug avec temps de préparation qui dure 5:20 (5 minutes 20 secondes) sur certains serveurs!\r\nmp_enableroundwaittime 1\r\n\r\n// Temps après un tour victorieux avant que le tour redémarre\r\nmp_bonusroundtime 8\r\n\r\n// Si non-zero, le tour actuel va redémarrer dans le nombre spécifié de secondes\r\nmp_restartround 0\r\n\r\n// Activer la mort subite\r\nmp_stalemate_enable 1\r\n\r\n// Limite de temps (en secondes) du tour.\r\nmp_stalemate_timelimit 300\r\n\r\n// temps de jeu par carte en minutes\r\nmp_timelimit 35\r\n\r\n\r\n\r\n// Client CVARS //\r\n\r\n// Limite au modes spectateurs pour les joueurs morts\r\nmp_forcecamera 0\r\n\r\n// permet de basculer le serveur en mode spectateur ou non\r\nmp_allowspectators 1\r\n\r\n// active le sont des pas\r\nmp_footsteps 1\r\n\r\n// active les triches du jeu\r\nsv_cheats 0\r\n\r\n// Après ce nombre de secondes sans un message d''un client, le client est expulsé\r\nsv_timeout 900\r\n\r\n// Durée maximale d''un joueur est autorisé à être inactif (en minutes), fait cela et sv_timeout parallèlement aussi?\r\nmp_idlemaxtime 15\r\n\r\n// Traite les joueurs inactifs  1=envoyer en spectateur 2=kick\r\nmp_idledealmethod 2\r\n\r\n// temps (en secondes) entre chaque sprays\r\ndecalfrequency 30\r\n\r\n\r\n\r\n// Communications //\r\n\r\n// permettre des communications vocales\r\nsv_voiceenable 1\r\n\r\n// Les joueurs peuvent entendre tous les autres joueurs, pas de restriction de team 0=off 1=on\r\nsv_alltalk 0\r\n\r\n// quantité de fois que les joueurs peuvent converser après le jeu est terminé\r\nmp_chattime 10\r\n\r\n// activer le mode fête\r\n// tf_birthday 1' WHERE name = 'Day of Defeat: Source';
  UPDATE `game` SET cfgPath = 'cfg/server.cfg', configTemplate = '// Created With Dedicated-Panel\r\n// Use this file to configure your DEDICATED server. \r\n// This config file is executed on server start.\r\n\r\n// disable autoaim\r\nsv_aim 0\r\n\r\n// disable clients'' ability to pause the server\r\npausable 0\r\n\r\n// default server name. Change to "Bob''s Server", etc.\r\nhostname "{{ hostname }}"\r\nsv_password "{{ svPassword }}"\r\nrcon_password "{{ rconPassword }}"\r\n\r\n// maximum client movement speed \r\nsv_maxspeed 320\r\n\r\n// 20 minute timelimit\r\nmp_timelimit 20\r\n\r\nsv_cheats 0\r\n\r\n// load ban files\r\nexec listip.cfg\r\nexec banned.cfg' WHERE name = 'Counter-Strike: Global Offensive';
UNLOCK TABLES;

EOF;

        $this->addSql($sql);
    }

    public function insertDownData()
    {
        $sql = <<<EOF
LOCK TABLES `game` WRITE;
  DELETE FROM `game` WHERE name = 'Half-Life';
  DELETE FROM `game` WHERE name = 'Half-Life: Opposing Force';
  DELETE FROM `game` WHERE name = 'Ricochet';
  DELETE FROM `game` WHERE name = 'Garry''s Mod';
  DELETE FROM `game` WHERE name = 'Zombie Panic Source';
  DELETE FROM `game` WHERE name = 'Left 4 Dead';
  DELETE FROM `game` WHERE name = 'Left 4 Dead 2';
  DELETE FROM `game` WHERE name = 'Pirates, Vikings, and Knights II';
  DELETE FROM `game` WHERE name = 'Insurgency';
  DELETE FROM `game` WHERE name = 'Killing Floor';
  DELETE FROM `game` WHERE name = 'Just Cause 2';
  DELETE FROM `game` WHERE name = 'Fistful of Frags';
  DELETE FROM `game` WHERE name = 'NS2: Combat';
UNLOCK TABLES;


LOCK TABLES `game` WRITE;
  UPDATE `game` SET installName = 'cstrike', configTemplate = '// Use this file to configure your DEDICATED server. \n// This config file is executed on server start.\n\n// disable autoaim\nsv_aim 0\n\n// disable clients\' ability to pause the server\npausable 0\n\n// default server name. Change to \"Bob\'s Server\", etc.\nhostname \"{{ hostname }}\"\nsv_password \"{{ svPassword }}\"\nrcon_password \"{{ rconPassword }}\"\n\n// maximum client movement speed \nsv_maxspeed 320\n\n// 20 minute timelimit\nmp_timelimit 20\n\nsv_cheats 0\n\n// load ban files\nexec listip.cfg\nexec banned.cfg\n\n' WHERE name = 'Counter Strike';
  UPDATE `game` SET installName = 'czero', configTemplate = '// Use this file to configure your DEDICATED server. \n// This config file is executed on server start.\n\n// disable autoaim\nsv_aim 0\n\n// disable clients\' ability to pause the server\npausable 0\n\n// default server name. Change to \"Bob\'s Server\", etc.\nhostname \"{{ hostname }}\"\nsv_password \"{{ svPassword }}\"\nrcon_password \"{{ rconPassword }}\"\n\n// maximum client movement speed \nsv_maxspeed 320\n\n// 20 minute timelimit\nmp_timelimit 20\n\nsv_cheats 0\n\n// load ban files\nexec listip.cfg\nexec banned.cfg\n' WHERE name = 'Counter-Strike: Condition Zéro';
  UPDATE `game` SET installName = 'dod', configTemplate = '//-----------------------------------------------\n// Server Config For Day Of Defeat v1.2 Server\n//-----------------------------------------------\n//\n// Special Thx to  [AR]-All Ready Online Network\n// for help with this server config\n\n\nhostname \"{{ hostname }}\"\nsv_password \"{{ svPassword }}\"\n//sv_spectator_password \"yourpasshere\" \nrcon_password  \"{{ rconPassword }}\"\n\n//-----------------------------------------------\n//              Server Variables\n//-----------------------------------------------\nmp_autocrosshair 0\n//mp_flashlight 1\n//mp_teamplay 11 \nmp_friendlyfire 0\nmp_fraglimit 0\nmp_timelimit 30\n\nsv_allowdownload 1\nsv_allowupload 1\nsv_cheats 0\nsv_maxspectators 4\nsv_maxrate 6000  \nsv_minrate 0  \n\ndecalfrequency 30\nfakelag 0   \nfakeloss 0\npausable 0\n\n//-----------------------------------------------\n//           Physics settings\n//-----------------------------------------------\nsv_accelerate 10\nsv_aim 0\nsv_airaccelerate 10\nsv_airmove 1\nsv_friction 4\nsv_gravity 800\nsv_bounce 1\nsv_clienttrace 3.5\nsv_clipmode 0\nsv_stepsize 18\nsv_stopspeed 100\nsv_maxspeed 500 \nsv_wateraccelerate 10\nsv_waterfriction 1\nedgefriction 2\nmp_falldamage 1    \nmp_footsteps 1\n\n//-----------------------------------------------\n//          DoD Extra settings\n//-----------------------------------------------\n//This Enables DoD\'s Netcoding\nsv_unlag 1\n\n//DoD Beta 2.0 Bullet Tracer settings\ntraceroffset 100\ntracerlength 0.45\ntracerred 1.3\ntracerblue 0.1\ntracergreen 0.7\ntraceralpha 0.45\ntracerspeed 6250\n\n//Turn on\\off Spectating Team\nmp_allowspectators 1\n\n//Turn on/off death messages\nmp_deathmsg 1\n\n// load ban files\nexec listip.cfg\nexec banned.cfg\n\nmp_alliesclasses -1\nmp_axisclasses -1\nmp_spawnbazookas 1\n' WHERE name = 'Day of Defeat';
  UPDATE `game` SET installName = 'tfc', configTemplate = '// Use this file to configure your DEDICATED server. \n// This config file is executed on server startup.\n\n// disable autoaim\nsv_aim 0\n\n// player bounding boxes (collisions, not clipping)\nsv_clienttrace 3.5\n\n// disable clients\' ability to pause the server\npausable 0\n\n// default server name. Change to \"Bob\'s Server\", etc.\nhostname \"{{ hostname }}\"\n\n// maximum client movement speed \nsv_maxspeed 500\n\n// Set up teamplay variables\nmp_teamplay 21\n\n// 30 minute timelimit\nmp_timelimit 30\n\n// footsteps on\nmp_footsteps 1\n\n// Turn off autoteam\ntfc_autoteam 0\n\n// Turn on a prematch\n//tfc_clanbattle 1\n//tfc_clanbattle_prematch 2\n\nsv_password \"{{ svPassword }}\"\nrcon_password \"{{ rconPassword }}\"\n\n// load ban files\nexec listip.cfg\nexec banned.cfg\n' WHERE name = 'Team Fortress Classic';
  UPDATE `game` SET installName = 'Counter-Strike Source', configTemplate = '// CS:S Server Config file\n// mostly the default settings with rate limits set to prevent massive lag\n// qUiCkSiLvEr\n\necho =========================\necho executing CS:S Server.cfg\necho =========================\n\nhostname \"{{ hostname }}\"\n\n// set to force players to respawn after death\nmp_forcerespawn 1\n\n// enable player footstep sounds\nmp_footsteps 1\nsv_footsteps 1 \n\n//  Bounce multiplier for when physically simulated objects collide with other objects.\nsv_bounce 0\n\n// enable flashlight\nmp_flashlight 1\n\n// enable autocrosshair (default is 1)\nmp_autocrosshair 1\n\n// allow bots\nmp_allowNPCs 1\n\n// world gravity (default 800)\nsv_gravity 800\n\n// world friction (default 4)\nsv_friction 4\n\n// world water friction (default 1)\nsv_waterfriction 1\n\n// Minimum stopping speed when on ground\nsv_stopspeed 75\n\n// spectator settings\nsv_noclipaccelerate 5\nsv_noclipspeed 5\nsv_specaccelerate 5\nsv_specspeed 3\nsv_specnoclip 1\n\n// Misc settings (leave as is)\nmp_teamplay 0 \nmp_fraglimit 0 \nmp_falldamage 0 \nmp_weaponstay 0 \n\n// Allow friendlyfire to hurt teammates (default 0)\nmp_friendlyfire 0 \n\n// player movement acceleration rates (default 5, 10 and 10)\nsv_accelerate 5 \nsv_airaccelerate 10 \nsv_wateraccelerate 10 \n\n// max player speed (default 320)\nsv_maxspeed 320\n\n// misc physics settings, leave them as-is\nsv_rollspeed 200 \nsv_rollangle 0 \n\n// player steps and stepsize - dont mess with this (default 18)\nsv_stepsize 18 \n\n// misc default vehicle settings (leave these alone)\n//r_VehicleViewDampen 1 \n//r_JeepViewDampenFreq 7.0 \n//r_JeepViewDampenDamp 1.0 \n//r_JeepViewZHeight 10.0 \n//r_AirboatViewDampenFreq 7.0 \n//r_AirboatViewDampenDamp 1.0 \n//r_AirboatViewZHeight 0.0 \n\n// teamplay talk all (1) or team only (0)\nsv_alltalk 0\n\n// enable voice on server\nsv_voiceenable 1\n\n// disable pause on server (set this to 0 always)\nsv_pausable 0\n\n// disable cheats (set this to 0 always)\nsv_cheats 0\n\n// teamserver coop (default 0)\ncoop 0\n\n// deathmatch - set this to 1\ndeathmatch 1\n\n// allow players to upload sprays (default 1)\nsv_allowupload 1\n\n// allow sprays and map content to be downloaded (default 1)\nsv_allowdownload 1\n\n// how often players can spray tags (default 20)\ndecalfrequency 30\n\n// fast http download url address\n//sv_downloadurl\n\n// Enable instanced baselines - Saves network overhead\nsv_instancebaselines 1\n\n//Force server side preloading (default 0)\nsv_forcepreload 1\n\n// set timelimit before map change\n//mp_timelimit 30\n\n// How many minutes each round takes (min. 1.000000 max. 9.000000)\nmp_roundtime 5\n\n// Max bandwidth rate allowed on server, 0 == unlimited\nsv_maxrate 9999\n\n// Min bandwidth rate allowed on server, 0 == unlimited\nsv_minrate 5000\n\n// Maximum updates per second that the server will allow (default 60)\nsv_maxupdaterate 30\n\n// Minimum updates per second that the server will allow (default 10)\nsv_minupdaterate 10\n\n// Maximum lag compensation in seconds (min. 0.000000 max. 1.000000)\nsv_maxunlag 1\n\n// Maximum speed any ballistically moving object is allowed to attain per axis (default 3500)\nsv_maxvelocity 3000\n\n// rcon failure settings\n//Number of minutes to ban users who fail rcon authentication\nsv_rcon_banpenalty 0\n\n//Number of minutes to ban users who fail rcon authentication\nsv_rcon_maxfailures 10\n\n// Number of times a user can fail rcon authentication in sv_rcon_minfailuretime before being banned\nsv_rcon_minfailures 5\n\n// Number of seconds to track failed rcon authentications\nsv_rcon_minfailuretime 30\n\n//The region of the world to report this server in (255 = world)\nsv_region 255\n\n// gather server statistics\nsv_stats 1\n\n//After this many seconds without a message from a client, the client is dropped (default 65)\nsv_timeout 65\n\n//Enables player lag compensation\nsv_unlag 1\n\n//Specifies which voice codec DLL to use in a game. Set to the name of the DLL without the extension\nsv_voicecodec vaudio_miles\n\n//Enables HLTV on this server\nsv_hltv 0\n\n//toggles whether the server allows spectator mode or not\nmp_allowspectators 1\n\n// If set to 1 then Server is a lan server ( no heartbeat, no authentication, no non-class C addresses, 9999.0 rate, etc. )\n// set to 0 for internet server\nsv_lan 0\n\n// Server contact name / url / email\nsv_contact \"\"\n\n// server password for players to join (default \"\")\nsv_password \"{{ svPassword  }}\"\n\nrcon_password \"{{ rconPassword }}\" \n\n// execute SteamID based ban list\nexec banned_user.cfg\n\n// execute IP based ban list\nexec banned_ip.cfg\n\n// Set packet filtering by IP mode (default 1)\nsv_filterban 1\n\n// log all bans in logfile\nsv_logbans 1\n\n// here are a few useful alias\n//exec alias.cfg\n//exec rate.cfg\n\n// enable logging and start log file\nsv_logfile 1\nlog on\n' WHERE name = 'Counter-Strike: Source';
  UPDATE `game` SET installName = 'tf', configTemplate = '// Paramètres générales //\n\n// Nom d\'hôte du serveur.\nhostname \"{{ hostname }}\"\n\n// Remplace les joueurs max rapportés par des clients potentiels\nsv_visiblemaxplayers 24\n\n// Le nombre maximum de tours à jouer avant que le serveur modifications les cartes\nmp_maxrounds 5\n\n// Défini pour verrouiller le temps par-image qui s\'écoule\nhost_framerate 0\n\n// Mettez l\'état de pause du serveur\nsetpause 0\n\n// Contrôle d\'où le client obtient le contenu \n// 0 = n\'importe où, 1 = partout inscrits sur la white list, 2 = contenu Steam officielle seulement\nsv_pure 0\n\n// Le serveur pausable\nsv_pausable 0\n\n// Type de serveur 0=internet 1=lan\nsv_lan 0\n\n// Si le serveur applique la cohérence des fichiers pour les fichiers critiques\nsv_consistency 1\n\n// Collecte les statistiques d\'utilisation du CPU\nsv_stats 1\n\n\n\n// Exécuter les utilisateur Bannis //\nexec banned_user.cfg\nexec banned_ip.cfg\nwriteid\nwriteip\n\n\n\n// Contact & Région //\n\n// Contact email pour le sysop serveur\nsv_contact emailaddy@google.com\n\n// La région du monde pour signaler ce serveur dedans.\n// -1 est le monde, 0 est la cote est des USA, 1 est la cote ouest des USA\n// 2 Amérique du sud, 3 Europe, 4 Asie, 5 Australie, 6 Moyen Orient, 7 Afrique\nsv_region 0\n\n\nsv_password \"{{ svPassword }}\"\n\n\n// Paramètres Rcon //\n\n// Mot de passe pour l\'authentification rcon\nrcon_password \"{{ rconPassword }}\"\n\n// Nombre de minutes pour bannir les utilisateur qui échoue l\'authentification rcon\nsv_rcon_banpenalty 1440\n\n// Le nombre maximum de fois qu\'un utilisateur peut échouer l\'authentification rcon avant d’être banni\nsv_rcon_maxfailures 5\n\n\n\n// Paramètres du journal //\n\n// Active la journalisation sur ficher, console, et udp < on | off >.\nlog on\n\n// Enregistrer les informations du serveur à un seul fichier.\nsv_log_onefile 0\n\n// Enregistrer les informations du serveur dans le fichier journal.\nsv_logfile 1\n\n// Journalisation des bans serveur bans dans le journal serveur.\nsv_logbans 1\n\n// Echo les informations du journal de la console.\nsv_logecho 1\n\n\n\n// Réglage de la vitesse //\n\n// Limiteur de vitesse fps\nfps_max 600\n\n// Bande passante minimum autorisé pour le serveur, 0 == illimitée\nsv_minrate 0\n\n// Bande passante maximale autorisée pour le serveur, 0 == illimitée\nsv_maxrate 20000\n\n// Mises à jour minimum par seconde que le serveur va permettre\nsv_minupdaterate 10\n\n// Mises à jour maximum par seconde que le serveur va permettre\nsv_maxupdaterate 66\n\n\n\n// Paramètres de téléchargement //\n\n// Permettre aux clients de télécharger des fichiers de personnalisés\nsv_allowupload 1\n\n// Permettre aux clients de télécharger des fichiers\nsv_allowdownload 1\n\n// Taille de fichier maximale autorisée pour le téléchargement en MB\nnet_maxfilesize 15\n\n\n\n// Équilibrage de Team //\n\n// Activer l\'équilibrage de l\'équipe\nmp_autoteambalance 1 \n\n// Temps après que les équipes soit déséquilibrer tente de changer les joueurs.\nmp_autoteambalance_delay 60\n\n// Temps après que les équipes soit déséquilibrer pour afficher un avertissement pour le rééquilibrage\nmp_autoteambalance_warning_delay 30\n\n// Teams are unbalanced when one team has this many more players than the other team. (0 disables check)\nmp_teams_unbalance_limit 1\n\n\n\n// Tour et temps de Jeu //\n\n// activer le timers pour attendre entre deux tours. AVERTISSEMENT: Un réglage à 0 a été connu pour causer un bug avec temps de préparation qui dure 5:20 (5 minutes 20 secondes) sur certains serveurs!\nmp_enableroundwaittime 1\n\n// Temps après un tour victorieux avant que le tour redémarre\nmp_bonusroundtime 8\n\n// Si non-zero, le tour actuel va redémarrer dans le nombre spécifié de secondes\nmp_restartround 0\n\n// Activer la mort subite\nmp_stalemate_enable 1\n\n// Limite de temps (en secondes) du tour.\nmp_stalemate_timelimit 300\n\n// temps de jeu par carte en minutes\nmp_timelimit 35\n\n\n\n// Client CVARS //\n\n// Limite au modes spectateurs pour les joueurs morts\nmp_forcecamera 0\n\n// permet de basculer le serveur en mode spectateur ou non\nmp_allowspectators 1\n\n// active le sont des pas\nmp_footsteps 1\n\n// active les triches du jeu\nsv_cheats 0\n\n// Après ce nombre de secondes sans un message d\'un client, le client est expulsé\nsv_timeout 900\n\n// Durée maximale d\'un joueur est autorisé à être inactif (en minutes), fait cela et sv_timeout parallèlement aussi?\nmp_idlemaxtime 15\n\n// Traite les joueurs inactifs  1=envoyer en spectateur 2=kick\nmp_idledealmethod 2\n\n// temps (en secondes) entre chaque sprays\ndecalfrequency 30\n\n\n\n// Communications //\n\n// permettre des communications vocales\nsv_voiceenable 1\n\n// Les joueurs peuvent entendre tous les autres joueurs, pas de restriction de team 0=off 1=on\nsv_alltalk 0\n\n// quantité de fois que les joueurs peuvent converser après le jeu est terminé\nmp_chattime 10\n' WHERE name = 'Team Fortress 2';
  UPDATE `game` SET installName = 'dod', configTemplate = '// General server name, passwords and contact details\nhostname \"{{ hostname }}\"\nrcon_password \"{{ rconPassword }}\"\nsv_password \"{{ svPassword }}\"\nsv_contact \"\"\nsv_tags \"\"\nsv_region \"255\"\nsv_lan \"0\"\n\n// Server bans and server logs\nsv_rcon_banpenalty \"15\"\nsv_rcon_minfailures \"5\"\nsv_rcon_maxfailures \"10\"\nsv_rcon_minfailuretime \"30\"\nsv_rcon_maxpacketsize \"1024\"\nsv_rcon_maxpacketbans \"1\"\nlog \"on\"\nsv_logbans \"1\"\nsv_logecho \"1\"\nsv_logfile \"1\"\nsv_log_onefile \"0\"\nmp_logdetail \"3\"\n \n// Server downloads and files\n// No fast download maximum file size. 16 is def. 64 (max) recommended if you do not have a fast download server.\nnet_maxfilesize \"64\"\n//Fast download url. Leave blank if you dont have one but set the above to max.\nsv_downloadurl \"\"\nsv_allowdownload \"1\"\nsv_allowupload \"1\"\nsv_consistency \"1\"\nsv_pure \"2\"\nsv_pure_kick_clients \"0\"\nsv_pure_trace \"0\"\n\n// Bandwidth Rates\nsv_maxrate \"50000\"\nsv_minrate \"7500\"\nsv_maxupdaterate \"66\"\nsv_minupdaterate \"20\"\nsv_maxcmdrate \"66\"\nsv_mincmdrate \"30\"\n\n// General server settings\nmp_friendlyfire \"0\"\nsv_alltalk \"0\"\nmp_chattime \"10\"\nsv_use_steam_voice \"1\"\nsv_allow_voice_from_file \"0\"\nsv_voiceenable \"1\"\nmp_allowspectators \"1\"\nmp_timelimit \"25\"\ndecalfrequency \"10\"\nmp_flashlight \"1\"\nmp_footsteps \"1\"\nmp_autokick \"0\"\nmp_limitteams \"2\"\nsv_restrict_aspect_ratio_fov \"0\"\nmp_forcecamera \"1\"\nsv_cheats \"0\"\nsv_pausable \"0\"\nsv_allow_wait_command \"0\"\nmp_falldamage \"0\"\nmp_fadetoblack \"0\"\n\n// Movement speed and feel\nsv_gravity \"800\"\nsv_friction \"4\"\nsv_stopspeed \"100\"\n\n// DoD:S specific Gameplay and server settings\n//(ONLY found in DoD:S)\ndod_freezecam \"1\"\ndod_bonusround \"1\"\ndod_bonusroundtime \"15\"\n\n// Class Restrictions\nmp_allowrandomclass \"1\"\n\n// Allies Class Restrictions\nmp_limit_allies_rifleman \"-1\"\nmp_limit_allies_assault  \"-1\"\nmp_limit_allies_support \"-1\"\nmp_limit_allies_sniper \"-1\"\nmp_limit_allies_mg \"-1\"\nmp_limit_allies_rocket \"-1\"\n\n// Axis Class Restrictions \nmp_limit_axis_rifleman \"-1\"\nmp_limit_axis_assault  \"-1\"\nmp_limit_axis_support \"-1\"\nmp_limit_axis_sniper \"-1\"\nmp_limit_axis_mg \"-1\"\nmp_limit_axis_rocket \"-1\"\n \n// Execute ban files\nexec banned_user.cfg\nexec banned_ip.cfg\nwriteid\nwriteip\n' WHERE name = 'Day of Defeat: Source';
  UPDATE `game` SET installName = 'csgo', configTemplate = 'hostname \"{{ hostname }}\"\nrcon_password \"{{ rconPassword }}\"\nsv_password \"{{ svPassword }}\"\nlog on\n\nmp_freezetime 5 //The amount of time players are frozen to buy items\nmp_join_grace_time 15 //The amount of time players can join teams after a round has started\nsv_cheats 0 //This should always be set, so you know it\'s not on\nsv_lan 0 //This should always be set, so you know it\'s not on\n//**The bot commands below are mostly default with the exception of \nbot_difficulty 1\nbot_chatter \"off\"\nbot_join_after_player 1\nbot_quota 0\nbot_quota_mode \"fill\"\n//**The following commands manage kicks and bans\nwriteid\nwriteip\nexec banned_user.cfg\nexec banned_ip.cfg\n' WHERE name = 'Counter-Strike: Global Offensive';
  UPDATE `game` SET installName = 'minecraft' WHERE name = 'Minecraft';
  UPDATE `game` SET installName = 'bukkit' WHERE name = 'Minecraft Bukkit';
UNLOCK TABLES;

EOF;

        $this->addSql($sql);
    }
}