<p><?php Page::a('Retour', 'utilisateurs/'); ?></p>
<form action="" method="post">
    <ul class="erreurs">
        <?php foreach ($erreurs AS $err): ?>
            <li><?php L::eT('err' . ucfirst($err)); ?></li>
        <?php endforeach; ?>
    </ul>
    
    <p>
        <label for="pseudo"><?php L::eT('Pseudo'); ?> :</label> 
        <input type="text" name="pseudo" id="pseudo" value="<?php echo $form['pseudo']; ?>" /><br />
        
        <label for="mdp"><?php L::eT('Mdp'); ?> :</label>
        <input type="password" name="mdp" id="mdp" value="" /><br />
        
        <label for="mdp2"><?php L::eT('ConfMdp'); ?> :</label>
        <input type="password" name="mdp2" id="mdp2" value="" /><br />
        
        <label for="email"><?php L::eT('Email'); ?> :</label>
        <input type="email" name="email" id="email" value="<?php echo $form['email']; ?>" /><br />
        
        <?php L::sCF('common/langs'); ?>
        <label for="lang"><?php L::eT('Langue'); ?> :</label>
        <select id="lang" name="lang"><?php foreach($langs AS $lang): ?>
            <option <?php 
                echo 'value="' , $lang , (($lang == $form['lang']) ? '" selected' : '"'); ?>>
                <?php L::eT($lang); ?>
            </option>
        <?php endforeach; L::sCF('utilisateurs/utilisateurs'); ?></select><br />
        
        <label for="groups"><?php L::eT('Groups'); ?> :</label>
        <select id="groups" name="groups[]" multiple="multiple">
            <?php foreach ($groups AS $group) {
                $gid = $group['id']; $selected = '';
                
                if (isset($form['groups'][$gid]) && $form['groups'][$gid]) {
                    $selected = 'selected';
                }
                
                echo '<option value="' , $gid , '" ' , $selected , '>'
                        , $group['nom'] , 
                    '</option>';
            } ?>
        </select><br />
        
        <input type="submit" name="envoi" value="<?php L::eT(ucfirst($action)); ?>" />
</p></form>