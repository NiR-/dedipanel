{% macro display_flashes(type, class, escape) %}
    {% if escape is not defined or escape is null %}
        {% set escape = true %}
    {% endif %}

    {% for flash in app.session.flashbag.get(type) %}
        <div class="alert alert-block {{ class }}">
            {% if escape %}
                {{ flash }}
            {% else %}
                {{ flash|raw }}
            {% endif %}
        </div>
    {% endfor %}
{% endmacro %}

{% macro error(escape) %}
    {{ _self.display_flashes('error', 'alert-error', escape) }}
{% endmacro %}

{% macro warning(escape) %}
    {{ _self.display_flashes('warning', 'alert-warning', escape) }}
{% endmacro %}

{% macro info(escape) %}
    {{ _self.display_flashes('info', 'alert-info', escape) }}
{% endmacro %}

{% macro success(escape) %}
    {{ _self.display_flashes('success', 'alert-success', escape) }}
{% endmacro %}

{% macro all(escape) %}
    {{ _self.success(escape) }}
    {{ _self.error(escape) }}
    {{ _self.warning(escape) }}
    {{ _self.info(escape) }}
{% endmacro %}
